 stage
[Pipeline] { (Pre-deploy health checks (Cognos REST + MotioCI))
[Pipeline] container
[Pipeline] {
[Pipeline] sh
11:17:30  + set -eu
11:17:30  + '[' -f MotioCI/api/motio_env ']'
11:17:30  + . MotioCI/api/motio_env
11:17:30  ++ COGNOS_SESSION_KEY='CAM MTsxMDE6YTExYjBmZWMtZTJjMy1mODFmLWE3MTQtZThiYzg3OGVkNTcyOjA5NTQ4ODMzOTY7MDszOzA7'
11:17:30  ++ COGNOS_XSRF=
11:17:30  ++ COGNOS_AUTH_VALUE='CAM MTsxMDE6YTExYjBmZWMtZTJjMy1mODFmLWE3MTQtZThiYzg3OGVkNTcyOjA5NTQ4ODMzOTY7MDszOzA7'
11:17:30  + BASE=https://dhcsprodcognos.ca.analytics.ibm.com/api/v1
11:17:30  + echo '1) Cognos REST check: /extensions with session_key'
11:17:30  1) Cognos REST check: /extensions with session_key
11:17:30  + set -- -H 'IBM-BA-Authorization: CAM MTsxMDE6YTExYjBmZWMtZTJjMy1mODFmLWE3MTQtZThiYzg3OGVkNTcyOjA5NTQ4ODMzOTY7MDszOzA7' -H 'Accept: application/json'
11:17:30  + '[' -n '' ']'
11:17:30  + curl -sS --fail-with-body https://dhcsprodcognos.ca.analytics.ibm.com/api/v1/extensions -H 'IBM-BA-Authorization: CAM MTsxMDE6YTExYjBmZWMtZTJjMy1mODFmLWE3MTQtZThiYzg3OGVkNTcyOjA5NTQ4ODMzOTY7MDszOzA7' -H 'Accept: application/json' -c cookies.txt -b cookies.txt -D headers.txt -o extensions.json
11:17:31  ++ python3 -
11:17:31  + EXT_OK=1
11:17:31  + '[' 1 -ne 1 ']'
11:17:31  + echo 'Cognos REST OK.'
11:17:31  Cognos REST OK.
11:17:31  + echo '2) MotioCI project presence on PRD'
11:17:31  2) MotioCI project presence on PRD
11:17:31  + cd MotioCI/api/CLI
11:17:31  + python3 ci-cli.py --server=https://cgrptmcip01.cloud.cammis.ca.gov project ls --xauthtoken=76d802d7-4c61-475e-956c-f90e54b43737 --instanceName=Cognos-PRD
11:17:31  ++ python3 -
11:17:31  + PROJ_OK=0
11:17:31  + '[' 0 -ne 1 ']'
11:17:31  + echo 'ERROR: Project '\''Demo'\'' not found on Cognos-PRD via MotioCI.'
11:17:31  ERROR: Project 'Demo' not found on Cognos-PRD via MotioCI.
11:17:31  + exit 1
[Pipeline] }
